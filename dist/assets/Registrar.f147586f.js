import{F as h,B as u,I as f}from"./Input.74f6be88.js";import{_ as d}from"./index.eaa5b59f.js";import{r as i,o as g,p,w as v,b as s,a as c}from"./vendor.0a9860fd.js";const S={name:"Registrar",components:{Form:h,Botao:u,Input:f},data(){return{loading:!1,vNome:!1,vEmail:!1,vSenha:!1,vConfirmSenha:!1,x:{nome:"",email:"",senha:"",confirmSenha:""}}},methods:{registrar(){return this.loading=!0,this.$store.dispatch("usuario/registrar",this.x).then(e=>{this.loading=!1,this.alerta(e.message,!0),this.$router.push({name:"entrar",params:{email:this.x.email,senha:this.x.senha}})},e=>{this.loading=!1,this.alerta(e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),!1)}),!1},alerta(e,a){this.$store.dispatch("alerta/criar",{msg:e,ok:a})},validar(){return this.vNome&&this.vEmail&&this.vSenha&&this.vConfirmSenha},validarNome(e){return this.vNome=!1,e?String(e).length<2?"Nome com pelo menos 2 caracteres!":(this.vNome=!0,!0):"Obrigat\xF3rio!"},validarEmail(e){this.vEmail=!1;const a=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;return e?a.test(e)?(this.vEmail=!0,!0):"Email com formato inv\xE1lido!":"Obrigat\xF3rio!"},validarSenha(e){return this.vSenha=!1,e?String(e).length<8?"Senha com pelo menos 8 caracteres!":(this.vSenha=!0,!0):"Obrigat\xF3rio!"},validarConfirmSenha(e){return this.vConfirmSenha=!1,e?e!=this.x.senha?"Senhas diferentes!":(this.vConfirmSenha=!0,!0):"Obrigat\xF3rio!"}}},x=c("h5",null,"Registre-se no App",-1);function C(e,a,N,_,r,n){const t=i("Input"),l=i("Botao"),m=i("Form");return g(),p(m,{class:"form-group"},{default:v(()=>[x,s(t,{nome:"nome",placeholder:"Nome",regras:n.validarNome,modelo:r.x.nome,onChangeModelo:a[0]||(a[0]=o=>r.x.nome=o)},null,8,["regras","modelo"]),s(t,{nome:"email",tipo:"email",placeholder:"Email",regras:n.validarEmail,modelo:r.x.email,onChangeModelo:a[1]||(a[1]=o=>r.x.email=o),small:"Nunca vamos compartilhar seu email, com ningu\xE9m."},null,8,["regras","modelo"]),s(t,{nome:"senha",tipo:"password",placeholder:"Senha",regras:n.validarSenha,modelo:r.x.senha,onChangeModelo:a[2]||(a[2]=o=>r.x.senha=o),small:"Criptografamos sua senha, de ponta a ponta."},null,8,["regras","modelo"]),s(t,{nome:"confirm-senha",tipo:"password",placeholder:"Confirmar Senha",regras:n.validarConfirmSenha,modelo:r.x.confirmSenha,onChangeModelo:a[3]||(a[3]=o=>r.x.confirmSenha=o)},null,8,["regras","modelo"]),s(l,{nome:"Registrar",loading:r.loading,funcao:n.registrar,validar:n.validar},null,8,["loading","funcao","validar"])]),_:1})}var I=d(S,[["render",C]]);export{I as default};
