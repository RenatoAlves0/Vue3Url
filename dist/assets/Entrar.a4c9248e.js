import{F as h,B as d,I as u}from"./Input.74f6be88.js";import{_ as p}from"./index.eaa5b59f.js";import{r as s,o as f,p as c,w as g,b as n,a as v}from"./vendor.0a9860fd.js";const _={name:"Entrar",components:{Form:h,Botao:d,Input:u},data(){return{loading:!1,vEmail:!1,vSenha:!1,x:{email:this.$route.params.email||"",senha:this.$route.params.senha||""}}},methods:{entrar(){this.loading=!0,this.$store.dispatch("usuario/entrar",this.x).then(a=>{this.loading=!1,this.alerta(a.message,!0),this.$router.push({name:"home"})},a=>{this.loading=!1,this.alerta(a.response&&a.response.data&&a.response.data.message||a.message||a.toString(),!1)})},alerta(a,e){this.$store.dispatch("alerta/criar",{msg:a,ok:e})},validar(){return this.vEmail&&this.vSenha},validarEmail(a){this.vEmail=!1;const e=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;return a?e.test(a)?(this.vEmail=!0,!0):"Email com formato inv\xE1lido!":"Obrigat\xF3rio!"},validarSenha(a){return this.vSenha=!1,a?String(a).length<8?"Senha com pelo menos 8 caracteres!":(this.vSenha=!0,!0):"Obrigat\xF3rio!"}}},x=v("h5",null,"Entre no App",-1);function E(a,e,S,B,r,t){const i=s("Input"),l=s("Botao"),m=s("Form");return f(),c(m,{class:"form-group"},{default:g(()=>[x,n(i,{nome:"email",tipo:"email",placeholder:"Email",regras:t.validarEmail,modelo:r.x.email,onChangeModelo:e[0]||(e[0]=o=>r.x.email=o)},null,8,["regras","modelo"]),n(i,{nome:"senha",tipo:"password",placeholder:"Senha",regras:t.validarSenha,modelo:r.x.senha,onChangeModelo:e[1]||(e[1]=o=>r.x.senha=o)},null,8,["regras","modelo"]),n(l,{nome:"Entrar",loading:r.loading,funcao:t.entrar,validar:t.validar},null,8,["loading","funcao","validar"])]),_:1})}var C=p(_,[["render",E]]);export{C as default};
