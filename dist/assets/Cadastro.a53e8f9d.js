import{F as f,I as g,B as v}from"./Input.74f6be88.js";import{_ as x}from"./index.eaa5b59f.js";import{r as a,o as n,p as U,w as i,b as s,c,d,a as k,e as u}from"./vendor.0a9860fd.js";const b={name:"CadastroUrl",components:{Form:f,Input:g,Botao:v},data(){return{loading:!1,vUrl:!1,x:{big:"",user:this.$store.state.usuario.user}}},methods:{adicionar(){this.loading=!0,this.$store.dispatch("url/salvar",{big:this.x.big,user:this.x.user?this.x.user._id:""}).then(e=>{this.loading=!1,this.alerta(e.message,!0),this.$router.push({name:"home"})},e=>{this.loading=!1,this.alerta(e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),!1)})},alerta(e,t){this.$store.dispatch("alerta/criar",{msg:e,ok:t})},validar(){return this.vUrl},validarUrl(e){this.vUrl=!1;const t=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g;return e?t.test(e)?(this.vUrl=!0,!0):"Url com formato inv\xE1lido!":"Obrigat\xF3rio!"}}},B=k("h5",null,"Adicionar URL",-1),C={key:0,class:"form-text text-muted"},w={key:1,class:"row mt20"},A=u("Registrar-se"),I=u("Entrar");function V(e,t,F,N,o,r){const m=a("Input"),_=a("Botao"),l=a("router-link"),h=a("Form");return n(),U(h,{class:"form-group"},{default:i(()=>[B,s(m,{nome:"url",placeholder:"URL",regras:r.validarUrl,modelo:o.x.big,onChangeModelo:t[0]||(t[0]=p=>o.x.big=p)},null,8,["regras","modelo"]),s(_,{nome:"Adicionar",loading:o.loading,funcao:r.adicionar,validar:r.validar},null,8,["loading","funcao","validar"]),o.x.user?d("",!0):(n(),c("small",C,"Voc\xEA est\xE1 no modo An\xF4nimo! Caso adicione uma nova URL voc\xEA n\xE3o poder\xE1 exclu\xED-la posteriormente.")),o.x.user?d("",!0):(n(),c("div",w,[s(l,{class:"col nav-link",to:"/registrar"},{default:i(()=>[A]),_:1}),s(l,{class:"col nav-link",to:"/entrar"},{default:i(()=>[I]),_:1})]))]),_:1})}var L=x(b,[["render",V]]);export{L as default};
